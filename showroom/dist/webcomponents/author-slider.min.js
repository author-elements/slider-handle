var AuthorSliderElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-slider> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),function(){let e=Array.from(new Set([])).filter(e=>!customElements.get(e));e.length>0&&(console.error(`[ERROR] <author-slider> Required dependenc${1!==e.length?"ies":"y"} not found: ${e.map(e=>`<${e}>`).join(", ").replace(", "+e[e.length-1]," and "+e[e.length-1])}`),e.forEach((e,t)=>console.info(`${t+1}. <${e}> is available at ${"https://github.com/author-elements/slider".replace("slider",e.replace("author-",""))}`)))}();class e extends(AuthorBaseElement(HTMLElement)){constructor(){super('<template><style>@charset "UTF-8"; :host{contain:content;display:flex}:host *,:host :after,:host :before{box-sizing:border-box}author-slider{contain:content;display:flex}author-slider *,author-slider :after,author-slider :before{box-sizing:border-box}</style><slot></slot></template>'),this.UTIL.defineProperties({defaultAxis:{private:!0,readonly:!0,default:"x"},dimensions:{private:!0,readonly:!0,get:()=>this.getBoundingClientRect()},validAxisValues:{private:!0,readonly:!0,default:["x","y","*"]},currentPosition:{private:!0,default:{x:0,y:0}},position:{private:!0,default:{x:0,y:0}},previousPosition:{private:!0,default:{x:0,y:0}}}),this.UTIL.defineAttributes({axis:this.PRIVATE.defaultAxis}),this.UTIL.definePrivateMethods({generatePositionObject:(e=this.PRIVATE.position)=>{let{dimensions:t}=this.PRIVATE;return{x:{px:e.x,pct:this.UTIL.getPercentageDecimal(e.x,t.width)},y:{px:e.y,pct:this.UTIL.getPercentageDecimal(e.y,t.height)}}},getRelativePosition:e=>{let{top:t,left:i,width:o,height:s}=this.PRIVATE.dimensions;return{x:Math.min(Math.max(e.pageX-i,0),o),y:Math.min(Math.max(e.pageY-t,0),s)}},pointermoveHandler:e=>{if(e.buttons<1)return;document.addEventListener("pointerup",this.PRIVATE.pointerupHandler);let t=this.PRIVATE.getRelativePosition(e);t.x===this.position.x.px&&t.y===this.position.y.px||(this.PRIVATE.currentPosition=t,this.emit("slide",this.PRIVATE.generatePositionObject(this.PRIVATE.currentPosition)))},pointerupHandler:e=>{let{currentPosition:t,pointermoveHandler:i,pointerupHandler:o}=this.PRIVATE;this.PRIVATE.position=t,this.emit("change",{previous:this.previousPosition,position:this.position}),this.PRIVATE.previousPosition=t,document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",o)}}),this.UTIL.registerListeners(this,{"attribute.change":e=>{let{attribute:t,oldValue:i,newValue:o}=e.detail;if(o===i)return;let{defaultAxis:s,validAxisValues:n}=this.PRIVATE;switch(t){case"axis":if(!o.split(" ").filter(e=>n.includes(e)).length)return this.setAttribute("axis",s),this.UTIL.throwError({message:`Invalid axis "${o}". Valid values include any combination of the following, separated by spaces: "${n.join('", "')}"`})}},pointerdown:e=>{let t=this.PRIVATE.position;this.PRIVATE.position=this.PRIVATE.getRelativePosition(e);let{position:i,pointermoveHandler:o}=this.PRIVATE;this.emit("change",{previous:this.PRIVATE.generatePositionObject(t),position:this.position}),document.addEventListener("pointermove",this.PRIVATE.pointermoveHandler)}})}static get observedAttributes(){return["axis"]}get previousPosition(){return this.PRIVATE.generatePositionObject(this.PRIVATE.previousPosition)}get position(){return this.PRIVATE.generatePositionObject(this.PRIVATE.position)}}return customElements.define("author-slider",e),e}();
//# sourceMappingURL=author-slider.min.js.map
