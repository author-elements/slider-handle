{"version":3,"file":"author-slider.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorSliderElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      defaultAxis: {\n        private: true,\n        readonly: true,\n        default: 'x'\n      },\n\n      dimensions: {\n        private: true,\n        readonly: true,\n        get: () => this.getBoundingClientRect()\n      },\n\n      validAxisValues: {\n        private: true,\n        readonly: true,\n        default: ['x', 'y', '*']\n      },\n\n      currentPosition: {\n        private: true,\n        default: {\n          x: 0,\n          y: 0\n        }\n      },\n\n      position: {\n        private: true,\n        default: {\n          x: 0,\n          y: 0\n        }\n      },\n\n      previousPosition: {\n        private: true,\n        default: {\n          x: 0,\n          y: 0\n        }\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      axis: this.PRIVATE.defaultAxis\n    })\n\n    this.UTIL.definePrivateMethods({\n      generatePositionObject: (position = this.PRIVATE.position) => {\n        let { dimensions } = this.PRIVATE\n\n        return {\n          x: {\n            px: position.x,\n            pct: this.UTIL.getPercentageDecimal(position.x, dimensions.width)\n          },\n\n          y: {\n            px: position.y,\n            pct: this.UTIL.getPercentageDecimal(position.y, dimensions.height)\n          }\n        }\n      },\n\n      getRelativePosition: evt => {\n        let { top, left, width, height } = this.PRIVATE.dimensions\n\n        return {\n          x: Math.min(Math.max(evt.pageX - left, 0), width),\n          y: Math.min(Math.max(evt.pageY - top, 0), height)\n        }\n      },\n\n      pointermoveHandler: evt => {\n        if (evt.buttons < 1) {\n          return\n        }\n\n        document.addEventListener('pointerup', this.PRIVATE.pointerupHandler)\n\n        let relative = this.PRIVATE.getRelativePosition(evt)\n\n        if (relative.x !== this.position.x.px || relative.y !== this.position.y.px) {\n          this.PRIVATE.currentPosition = relative\n          this.emit('slide', this.PRIVATE.generatePositionObject(this.PRIVATE.currentPosition))\n        }\n      },\n\n      pointerupHandler: evt => {\n        let { currentPosition, pointermoveHandler, pointerupHandler } = this.PRIVATE\n\n        this.PRIVATE.position = currentPosition\n\n        this.emit('change', {\n          previous: this.previousPosition,\n          position: this.position\n        })\n\n        this.PRIVATE.previousPosition = currentPosition\n\n        document.removeEventListener('pointermove', pointermoveHandler)\n        document.removeEventListener('pointerup', pointerupHandler)\n      },\n    })\n\n    this.UTIL.registerListeners(this, {\n      'attribute.change': evt => {\n        let { attribute, oldValue, newValue } = evt.detail\n\n        if (newValue === oldValue) {\n          return\n        }\n\n        let { defaultAxis, validAxisValues } = this.PRIVATE\n\n        switch (attribute) {\n          case 'axis':\n            let arr = newValue.split(' ').filter(axis => validAxisValues.includes(axis))\n\n            if (!arr.length) {\n              this.setAttribute('axis', defaultAxis)\n\n              return this.UTIL.throwError({\n                message: `Invalid axis \"${newValue}\". Valid values include any combination of the following, separated by spaces: \"${validAxisValues.join('\", \"')}\"`\n              })\n            }\n\n            break\n        }\n      },\n\n      pointerdown: evt => {\n        let previous = this.PRIVATE.position\n        this.PRIVATE.position = this.PRIVATE.getRelativePosition(evt)\n\n        let { position, pointermoveHandler } = this.PRIVATE\n\n        this.emit('change', {\n          previous: this.PRIVATE.generatePositionObject(previous),\n          position: this.position\n        })\n\n        document.addEventListener('pointermove', this.PRIVATE.pointermoveHandler)\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return ['axis']\n  }\n\n  get previousPosition () {\n    return this.PRIVATE.generatePositionObject(this.PRIVATE.previousPosition)\n  }\n\n  get position () {\n    return this.PRIVATE.generatePositionObject(this.PRIVATE.position)\n  }\n}\n\ncustomElements.define('author-slider', AuthorSliderElement)\n\nexport default AuthorSliderElement\n"],"names":["AuthorSliderElement","UTIL","defineProperties","defaultAxis","private","readonly","default","dimensions","get","getBoundingClientRect","validAxisValues","currentPosition","x","y","position","previousPosition","defineAttributes","axis","PRIVATE","definePrivateMethods","generatePositionObject","px","pct","getPercentageDecimal","width","height","getRelativePosition","evt","top","left","Math","min","max","pageX","pageY","pointermoveHandler","buttons","document","addEventListener","pointerupHandler","relative","emit","previous","removeEventListener","registerListeners","detail","attribute","oldValue","newValue","arr","split","filter","includes","length","setAttribute","throwError","message","join","pointerdown","AuthorBaseElement","HTMLElement","customElements","define"],"mappings":"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"}